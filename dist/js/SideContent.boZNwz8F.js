import{d as q,k as _,A as v,B as C,l as a,m as t,F as b,E as w,a as i,r as l,Q as c,y as F,o as m,J as k,w as U}from"./vendor.b7dnWdBk.js";import{h as V,a as B}from"./index.D4oiYhMT.js";const E=""+new URL("../img/bilibili-DI7JXFV4.png",import.meta.url).href,N=""+new URL("../img/qq-qQY1nm_l.png",import.meta.url).href,$=""+new URL("../img/github-CR5Hniyx.png",import.meta.url).href,j=""+new URL("../img/linkin-BEFbw4Ev.png",import.meta.url).href,A=""+new URL("../img/weibo-B17flLRM.png",import.meta.url).href,I={class:"side"},P={class:"side1"},D={class:"side-img"},J=["href"],M=["src"],Q={class:"side2"},Y={class:"side3"},z=q({__name:"SideContent",setup(G){const h=[{img:E,link:"https://space.bilibili.com/613598276"},{img:N,link:"https://user.qzone.qq.com/2464334130/main"},{img:$,link:"https://github.com/justinSun2001?tab=repositories"},{img:j,link:"https://www.linkedin.com/in/justin-sun-744810193/"},{img:A,link:"https://weibo.com/u/7707589860"}],p=_(),o=v({email:""}),y=v({email:[{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}]}),g=_([]),R=F();C(()=>R.getters.getRecentArticles,n=>{g.value=n.map(e=>e.genre.length>1?`${e.genre.map(d=>d.name).join("/")}: ${e.title}`:`${e.genre[0].name}: ${e.title}`)},{immediate:!0});const x=n=>{n&&n.validate(async e=>{if(e)try{await V.post("/user/email",new URLSearchParams(o.email)),alert("Submit Success!")}catch(r){console.error("Submit failed",r)}else alert("Invalid Email Format!")})};return(n,e)=>{const r=l("el-input"),d=l("el-form-item"),L=l("el-button"),S=l("el-form"),f=l("el-divider");return m(),a("div",I,[t("div",P,[e[2]||(e[2]=t("div",{class:"sideline"},null,-1)),e[3]||(e[3]=t("div",{class:"sidetext"},"Follow Me",-1)),t("div",D,[(m(),a(b,null,w(h,(s,u)=>t("div",{key:u,class:"img-item"},[t("a",{href:s.link,target:"_blank"},[t("img",{src:s.img,alt:"social icon"},null,8,M)],8,J)])),64))])]),t("div",Q,[e[5]||(e[5]=t("div",{class:"sideline"},null,-1)),e[6]||(e[6]=t("div",{class:"sidetext"},"Articles Letter",-1)),e[7]||(e[7]=t("div",{class:"sidecontent"}," Get all latest content delivered a few times a week. ",-1)),i(S,{ref_key:"formRef",ref:p,model:o,rules:y,class:"demo-dynamic"},{default:c(()=>[i(d,{prop:"email"},{default:c(()=>[i(r,{modelValue:o.email,"onUpdate:modelValue":e[0]||(e[0]=s=>o.email=s),placeholder:"Your Email"},null,8,["modelValue"])]),_:1}),i(L,{type:"primary",plain:"",onClick:e[1]||(e[1]=s=>x(p.value))},{default:c(()=>e[4]||(e[4]=[k("提交")])),_:1})]),_:1},8,["model","rules"])]),t("div",Y,[e[8]||(e[8]=t("div",{class:"sideline"},null,-1)),e[9]||(e[9]=t("div",{class:"sidetext"},"Recent Posts",-1)),i(f),(m(!0),a(b,null,w(g.value,(s,u)=>(m(),a("div",{key:u,class:"text"},[k(U(s)+" ",1),i(f)]))),128))])])}}}),X=B(z,[["__scopeId","data-v-019664e3"]]);export{X as S};
